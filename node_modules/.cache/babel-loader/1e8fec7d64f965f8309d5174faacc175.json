{"remainingRequest":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js!/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/Desktop/DoAn/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/Desktop/DoAn/src/components/Login.vue","mtime":1647073297551},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLndlYWstbWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc3Bpbm5lciBmcm9tICIuL3NwaW5uZXIiOwppbXBvcnQgeyB2YWxpZGF0aW9uTWl4aW4gfSBmcm9tICJ2dWVsaWRhdGUiOwp2YXIgdG91Y2hNYXAgPSBuZXcgV2Vha01hcCgpOwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKaW1wb3J0IHsgSFRUUCB9IGZyb20gIi4uL0FQSS9odHRwX2NvbW1vbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBzcGlubmVyOiBzcGlubmVyCiAgfSwKICBtaXhpbnM6IFt2YWxpZGF0aW9uTWl4aW5dLAogIHZhbGlkYXRpb25zOiB7CiAgICBuYW1lOiB7CiAgICAgIHJlcXVpcmVkOiByZXF1aXJlZAogICAgfSwKICAgIHBhc3M6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCgzKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGVsYXlUb3VjaDogZnVuY3Rpb24gZGVsYXlUb3VjaCgkdikgewogICAgICAkdi4kcmVzZXQoKTsKCiAgICAgIGlmICh0b3VjaE1hcC5oYXMoJHYpKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRvdWNoTWFwLmdldCgkdikpOwogICAgICB9CgogICAgICB0b3VjaE1hcC5zZXQoJHYsIHNldFRpbWVvdXQoJHYuJHRvdWNoLCAxMDAwKSk7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBIVFRQLnBvc3QoIi9sb2dpbiIsIHsKICAgICAgICB1c2VybmFtZTogdGhpcy5uYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3MKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRva2VuIiwgSlNPTi5zdHJpbmdpZnkocmVzLmRhdGEpKTsKCiAgICAgICAgICBpZiAocmVzLmRhdGEucXV5ZW4ubWFxdXllbiA9PT0gMikgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi91c2VyIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy4kcm91dGVyLnB1c2goIi9hZG1pbiIpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkgewogICAgICAgIGFsZXJ0KCLEkMSDbmcgbmjhuq1wIHRo4bqldCBi4bqhaSIpOwogICAgICB9KTsKICAgIH0sCiAgICByZWdpc3RlcjogZnVuY3Rpb24gcmVnaXN0ZXIoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcmVnaXN0ZXIiKTsKICAgIH0sCiAgICBjb250aW51ZXM6IGZ1bmN0aW9uIGNvbnRpbnVlcygpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi91c2VyIik7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1Bhc3N3b3JkOiBmYWxzZSwKICAgICAgbmFtZTogIiIsCiAgICAgIHBhc3M6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhc3NFcnJvcnM6IGZ1bmN0aW9uIHBhc3NFcnJvcnMoKSB7CiAgICAgIHZhciBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnBhc3MuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5wYXNzLm1pbkxlbmd0aCAmJiBlcnJvcnMucHVzaCgicGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMgbG9uZyIpOwogICAgICAhdGhpcy4kdi5wYXNzLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCJwYXNzd29yZCBpcyByZXF1aXJlZC4iKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCiAgICB1c2VyRXJyb3JzOiBmdW5jdGlvbiB1c2VyRXJyb3JzKCkgewogICAgICB2YXIgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi5uYW1lLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYubmFtZS5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgiVXNlcm5hbWUgaXMgcmVxdWlyZWQiKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <v-app>\n    <v-content>\n      <div class=\"top vuetify\"></div>\n      <div class=\"main\">\n        <v-card width=\"500\" class=\"mx-auto mt-9\">\n          <v-card-title>Đăng nhập</v-card-title>\n          <v-card-text>\n            <form>\n              <v-text-field\n                v-model=\"name\"\n                :error-messages=\"userErrors\"\n                label=\"Username\"\n                required\n                @input=\"delayTouch($v.name)\"\n                @blur=\"$v.name.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"pass\"\n                type=\"password\"\n                :error-messages=\"passErrors\"\n                label=\"Password\"\n                required\n                @input=\"delayTouch($v.pass)\"\n                @blur=\"$v.pass.$touch()\"\n              ></v-text-field>\n            </form>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn color=\"info\" @click=\"submit\">Đăng nhập</v-btn>\n            <v-btn color=\"success\" @click=\"register\">Đăng ký </v-btn>\n            <v-btn color=\"blue-grey\" @click=\"continues\">tiếp tục lướt web </v-btn>\n          </v-card-actions>\n        </v-card>\n        <spinner v-if=\"this.$store.state.users.is_login\" />\n      </div>\n      <div class=\"bot vuetify\"></div>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport spinner from \"./spinner\";\nimport { validationMixin } from \"vuelidate\";\nconst touchMap = new WeakMap();\nimport { required, minLength } from \"vuelidate/lib/validators\";\nimport { HTTP } from \"../API/http_common\";\nexport default {\n  components: { spinner },\n  mixins: [validationMixin],\n  validations: {\n    name: { required },\n    pass: { required, minLength: minLength(3) },\n  },\n\n  methods: {\n    delayTouch($v) {\n      $v.$reset();\n      if (touchMap.has($v)) {\n        clearTimeout(touchMap.get($v));\n      }\n      touchMap.set($v, setTimeout($v.$touch, 1000));\n    },\n    submit() {\n      HTTP.post(\"/login\", {\n        username: this.name,\n        password: this.pass,\n      })\n        .then((res) => {\n          if (res.status === 200) {\n            localStorage.setItem(\"token\", JSON.stringify(res.data));\n            if (res.data.quyen.maquyen === 2) {\n              this.$router.push(\"/user\");\n            } else {\n              this.$router.push(\"/admin\");\n            }\n          }\n        })\n        .catch(() => {\n          alert(\"Đăng nhập thất bại\");\n        });\n    },\n    register() {\n      this.$router.push(\"/register\");\n    },\n    continues() {\n      this.$router.push(\"/user\");\n    },\n  },\n  data() {\n    return {\n      showPassword: false,\n      name: \"\",\n      pass: \"\",\n    };\n  },\n  computed: {\n    passErrors() {\n      const errors = [];\n      if (!this.$v.pass.$dirty) return errors;\n      !this.$v.pass.minLength &&\n        errors.push(\"password must be at least 3 characters long\");\n      !this.$v.pass.required && errors.push(\"password is required.\");\n      return errors;\n    },\n    userErrors() {\n      const errors = [];\n      if (!this.$v.name.$dirty) return errors;\n      !this.$v.name.required && errors.push(\"Username is required\");\n      return errors;\n    },\n  },\n};\n</script>\n\n<style lang='scss' src='../style.scss' scoped/>\n"],"sourceRoot":"src/components"}]}