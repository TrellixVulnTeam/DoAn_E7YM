{"remainingRequest":"/home/hieule/DoAn/node_modules/babel-loader/lib/index.js!/home/hieule/DoAn/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/hieule/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/DoAn/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/DoAn/src/components/Login.vue","mtime":1627532782299},{"path":"/home/hieule/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLndlYWstbWFwLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5pdGVyYXRvci5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgc3Bpbm5lciBmcm9tICIuL3NwaW5uZXIiOwppbXBvcnQgeyB2YWxpZGF0aW9uTWl4aW4gfSBmcm9tICJ2dWVsaWRhdGUiOwp2YXIgdG91Y2hNYXAgPSBuZXcgV2Vha01hcCgpOwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoLCBlbWFpbCB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CmltcG9ydCB7IEhUVFAgfSBmcm9tICIuLi9BUEkvaHR0cF9jb21tb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgc3Bpbm5lcjogc3Bpbm5lcgogIH0sCiAgbWl4aW5zOiBbdmFsaWRhdGlvbk1peGluXSwKICB2YWxpZGF0aW9uczogewogICAgbmFtZTogewogICAgICByZXF1aXJlZDogcmVxdWlyZWQsCiAgICAgIGVtYWlsOiBlbWFpbAogICAgfSwKICAgIHBhc3M6IHsKICAgICAgcmVxdWlyZWQ6IHJlcXVpcmVkLAogICAgICBtaW5MZW5ndGg6IG1pbkxlbmd0aCgzKQogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgZGVsYXlUb3VjaDogZnVuY3Rpb24gZGVsYXlUb3VjaCgkdikgewogICAgICAkdi4kcmVzZXQoKTsKCiAgICAgIGlmICh0b3VjaE1hcC5oYXMoJHYpKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRvdWNoTWFwLmdldCgkdikpOwogICAgICB9CgogICAgICB0b3VjaE1hcC5zZXQoJHYsIHNldFRpbWVvdXQoJHYuJHRvdWNoLCAxMDAwKSk7CiAgICB9LAogICAgc3VibWl0OiBmdW5jdGlvbiBzdWJtaXQoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiR2LiR0b3VjaCgpOwogICAgICBIVFRQLnBvc3QoIi91c2VyL3NpZ24taW4iLCB7CiAgICAgICAgZW1haWw6IHRoaXMubmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuZGF0YS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0b2tlbiIsIHJlcy5kYXRhLmRhdGEudG9rZW4pOwoKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgiL3VzZXIiKTsKCiAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBhbGVydCgixJDEg25nIG5o4bqtcCB0aOG6pXQgYuG6oWkiKTsKICAgICAgfSk7CiAgICB9LAogICAgcmVnaXN0ZXI6IGZ1bmN0aW9uIHJlZ2lzdGVyKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiL3JlZ2lzdGVyIik7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd1Bhc3N3b3JkOiBmYWxzZSwKICAgICAgbmFtZTogIiIsCiAgICAgIHBhc3M6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHBhc3NFcnJvcnM6IGZ1bmN0aW9uIHBhc3NFcnJvcnMoKSB7CiAgICAgIHZhciBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnBhc3MuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5wYXNzLm1pbkxlbmd0aCAmJiBlcnJvcnMucHVzaCgicGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMgbG9uZyIpOwogICAgICAhdGhpcy4kdi5wYXNzLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCJwYXNzd29yZCBpcyByZXF1aXJlZC4iKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCiAgICBlbWFpbEVycm9yczogZnVuY3Rpb24gZW1haWxFcnJvcnMoKSB7CiAgICAgIHZhciBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2Lm5hbWUuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5uYW1lLmVtYWlsICYmIGVycm9ycy5wdXNoKCJNdXN0IGJlIHZhbGlkIGUtbWFpbCIpOwogICAgICAhdGhpcy4kdi5uYW1lLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCJFLW1haWwgaXMgcmVxdWlyZWQiKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0KICB9Cn07"},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyCA,OAAA,OAAA,MAAA,WAAA;AACA,SAAA,eAAA,QAAA,WAAA;AACA,IAAA,QAAA,GAAA,IAAA,OAAA,EAAA;AACA,SAAA,QAAA,EAAA,SAAA,EAAA,KAAA,QAAA,0BAAA;AACA,SAAA,IAAA,QAAA,oBAAA;AACA,eAAA;AACA,EAAA,UAAA,EAAA;AAAA,IAAA,OAAA,EAAA;AAAA,GADA;AAEA,EAAA,MAAA,EAAA,CAAA,eAAA,CAFA;AAGA,EAAA,WAAA,EAAA;AACA,IAAA,IAAA,EAAA;AAAA,MAAA,QAAA,EAAA,QAAA;AAAA,MAAA,KAAA,EAAA;AAAA,KADA;AAEA,IAAA,IAAA,EAAA;AAAA,MAAA,QAAA,EAAA,QAAA;AAAA,MAAA,SAAA,EAAA,SAAA,CAAA,CAAA;AAAA;AAFA,GAHA;AAQA,EAAA,OAAA,EAAA;AACA,IAAA,UADA,sBACA,EADA,EACA;AACA,MAAA,EAAA,CAAA,MAAA;;AACA,UAAA,QAAA,CAAA,GAAA,CAAA,EAAA,CAAA,EAAA;AACA,QAAA,YAAA,CAAA,QAAA,CAAA,GAAA,CAAA,EAAA,CAAA,CAAA;AACA;;AACA,MAAA,QAAA,CAAA,GAAA,CAAA,EAAA,EAAA,UAAA,CAAA,EAAA,CAAA,MAAA,EAAA,IAAA,CAAA;AACA,KAPA;AAQA,IAAA,MARA,oBAQA;AAAA;;AACA,WAAA,EAAA,CAAA,MAAA;AACA,MAAA,IAAA,CAAA,IAAA,CAAA,eAAA,EAAA;AACA,QAAA,KAAA,EAAA,KAAA,IADA;AAEA,QAAA,QAAA,EAAA,KAAA;AAFA,OAAA,EAIA,IAJA,CAIA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,CAAA,IAAA,KAAA,GAAA,EAAA;AACA,UAAA,YAAA,CAAA,OAAA,CAAA,OAAA,EAAA,GAAA,CAAA,IAAA,CAAA,IAAA,CAAA,KAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,OAAA;;AACA,UAAA,QAAA,CAAA,MAAA;AACA;AACA,OAVA,EAWA,KAXA,CAWA,YAAA;AACA,QAAA,KAAA,CAAA,oBAAA,CAAA;AACA,OAbA;AAcA,KAxBA;AAyBA,IAAA,QAzBA,sBAyBA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,WAAA;AACA;AA3BA,GARA;AAqCA,EAAA,IArCA,kBAqCA;AACA,WAAA;AACA,MAAA,YAAA,EAAA,KADA;AAEA,MAAA,IAAA,EAAA,EAFA;AAGA,MAAA,IAAA,EAAA;AAHA,KAAA;AAKA,GA3CA;AA4CA,EAAA,QAAA,EAAA;AACA,IAAA,UADA,wBACA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA,CAAA,IAAA,CAAA,MAAA,EAAA,OAAA,MAAA;AACA,OAAA,KAAA,EAAA,CAAA,IAAA,CAAA,SAAA,IACA,MAAA,CAAA,IAAA,CAAA,6CAAA,CADA;AAEA,OAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,IAAA,MAAA,CAAA,IAAA,CAAA,uBAAA,CAAA;AACA,aAAA,MAAA;AACA,KARA;AASA,IAAA,WATA,yBASA;AACA,UAAA,MAAA,GAAA,EAAA;AACA,UAAA,CAAA,KAAA,EAAA,CAAA,IAAA,CAAA,MAAA,EAAA,OAAA,MAAA;AACA,OAAA,KAAA,EAAA,CAAA,IAAA,CAAA,KAAA,IAAA,MAAA,CAAA,IAAA,CAAA,sBAAA,CAAA;AACA,OAAA,KAAA,EAAA,CAAA,IAAA,CAAA,QAAA,IAAA,MAAA,CAAA,IAAA,CAAA,oBAAA,CAAA;AACA,aAAA,MAAA;AACA;AAfA;AA5CA,CAAA","sourcesContent":["<template>\n  <v-app>\n    <v-content>\n      <div class=\"top vuetify\"></div>\n      <div class=\"main\">\n        <v-card width=\"500\" class=\"mx-auto mt-9\">\n          <v-card-title>Đăng nhập</v-card-title>\n          <v-card-text>\n            <form>\n              <v-text-field\n                v-model=\"name\"\n                :error-messages=\"emailErrors\"\n                label=\"Email\"\n                required\n                @input=\"delayTouch($v.name)\"\n                @blur=\"$v.name.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"pass\"\n                type=\"password\"\n                :error-messages=\"passErrors\"\n                label=\"Password\"\n                required\n                @input=\"delayTouch($v.pass)\"\n                @blur=\"$v.pass.$touch()\"\n              ></v-text-field>\n            </form>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn color=\"info\" @click=\"submit\">Đăng nhập</v-btn>\n            <v-btn color=\"success\" @click=\"register\">Đăng ký </v-btn>\n          </v-card-actions>\n        </v-card>\n        <spinner v-if=\"this.$store.state.users.is_login\" />\n      </div>\n      <div class=\"bot vuetify\"></div>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport spinner from \"./spinner\";\nimport { validationMixin } from \"vuelidate\";\nconst touchMap = new WeakMap();\nimport { required, minLength, email } from \"vuelidate/lib/validators\";\nimport { HTTP } from \"../API/http_common\";\nexport default {\n  components: { spinner },\n  mixins: [validationMixin],\n  validations: {\n    name: { required, email },\n    pass: { required, minLength: minLength(3) },\n  },\n\n  methods: {\n    delayTouch($v) {\n      $v.$reset();\n      if (touchMap.has($v)) {\n        clearTimeout(touchMap.get($v));\n      }\n      touchMap.set($v, setTimeout($v.$touch, 1000));\n    },\n    submit() {\n      this.$v.$touch();\n      HTTP.post(\"/user/sign-in\", {\n        email: this.name,\n        password: this.pass,\n      })\n        .then((res) => {\n          if (res.data.code === 200) {\n            localStorage.setItem(\"token\", res.data.data.token);\n            this.$router.push(\"/user\");\n            location.reload()\n          }\n        })\n        .catch(() => {\n          alert(\"Đăng nhập thất bại\");\n        });\n    },\n    register() {\n      this.$router.push(\"/register\");\n    },\n  },\n  data() {\n    return {\n      showPassword: false,\n      name: \"\",\n      pass: \"\",\n    };\n  },\n  computed: {\n    passErrors() {\n      const errors = [];\n      if (!this.$v.pass.$dirty) return errors;\n      !this.$v.pass.minLength &&\n        errors.push(\"password must be at least 3 characters long\");\n      !this.$v.pass.required && errors.push(\"password is required.\");\n      return errors;\n    },\n    emailErrors() {\n      const errors = [];\n      if (!this.$v.name.$dirty) return errors;\n      !this.$v.name.email && errors.push(\"Must be valid e-mail\");\n      !this.$v.name.required && errors.push(\"E-mail is required\");\n      return errors;\n    },\n  },\n};\n</script>\n\n<style lang='scss' src='../style.scss' scoped/>\n"],"sourceRoot":"src/components"}]}