{"remainingRequest":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/Desktop/DoAn/src/components/AdminPage/category.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/Desktop/DoAn/src/components/AdminPage/category.vue","mtime":1646485641542},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUYWJsZSBmcm9tICIuLi90YWJsZS52dWUiOwppbXBvcnQgeyBIVFRQIH0gZnJvbSAiLi4vLi4vQVBJL2h0dHBfY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgVGFibGUgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaXRlbXM6IFtdLAogICAgICBmaWVsZHM6IFsKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJtYWRtIiwKICAgICAgICAgIGxhYmVsOiAiTcOjIGRhbmggbeG7pWMiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAidGVuZG0iLAogICAgICAgICAgbGFiZWw6ICJUw6puIGRhbmggbeG7pWMiLAogICAgICAgIH0sCiAgICAgICAgeyBrZXk6ICJhY3Rpb25zIiwgbGFiZWw6ICJBY3Rpb25zIiB9LAogICAgICBdLAogICAgICBpc0NhdGVnb3J5OiB0cnVlLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJlbG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgcmVsb2FkKCkgewogICAgICBhd2FpdCBIVFRQLmdldChgL2RhbmhtdWNgKS50aGVuKChyZXMpID0+IHsKICAgICAgICB0aGlzLml0ZW1zID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZWxvYWQoKTsKICAgIH0sCiAgICBhc3luYyBkZWxldGVQcm9kdWN0KGlkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgSFRUUC5kZWxldGUoYC9kYW5obXVjLyR7aWQubWFkbX1gKTsKICAgICAgICBhd2FpdCB0aGlzLnJlbG9hZCgpOwogICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgICAgYWxlcnQoIkRhbmggbeG7pWMgY8OzIHThu5NuIHThuqFpIHPhuqNuIHBo4bqpbSwga2jDtG5nIHRo4buDIHjDs2EiKTsKICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["category.vue"],"names":[],"mappings":";;;;;;;;;;;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"category.vue","sourceRoot":"src/components/AdminPage","sourcesContent":["<template>\n  <Table\n    :items=\"items\"\n    :fields=\"fields\"\n    @del=\"deleteProduct\"\n    :isCategory=\"isCategory\"\n    v-on=\"$listeners\"\n    @add=\"handleAdd\"\n  />\n</template>\n<script>\nimport Table from \"../table.vue\";\nimport { HTTP } from \"../../API/http_common\";\nexport default {\n  components: { Table },\n  data() {\n    return {\n      items: [],\n      fields: [\n        {\n          key: \"madm\",\n          label: \"Mã danh mục\",\n        },\n        {\n          key: \"tendm\",\n          label: \"Tên danh mục\",\n        },\n        { key: \"actions\", label: \"Actions\" },\n      ],\n      isCategory: true,\n    };\n  },\n  created() {\n    this.reload();\n  },\n  methods: {\n    async reload() {\n      await HTTP.get(`/danhmuc`).then((res) => {\n        this.items = res.data;\n      });\n    },\n    handleAdd() {\n      this.reload();\n    },\n    async deleteProduct(id) {\n      try {\n        await HTTP.delete(`/danhmuc/${id.madm}`);\n        await this.reload();\n      } catch (e) {\n        console.log(e);\n        alert(\"Danh mục có tồn tại sản phẩm, không thể xóa\");\n      }\n    },\n  },\n};\n</script>"]}]}