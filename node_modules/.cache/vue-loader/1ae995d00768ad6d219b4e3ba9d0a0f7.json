{"remainingRequest":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/Desktop/DoAn/src/components/AddEdit/addEditProduct.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/Desktop/DoAn/src/components/AddEdit/addEditProduct.vue","mtime":1646543548250},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG9ialByb2R1Y3RzLCBwcm9kdWN0IH0gZnJvbSAiLi4vQWRtaW5QYWdlL2NvbnN0YW50IjsKaW1wb3J0IHsgSFRUUCB9IGZyb20gIi4uLy4uL0FQSS9odHRwX2NvbW1vbiI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb2JqUHJvZHVjdHMsCiAgICAgIHByb2R1Y3QsCiAgICAgIGRhbmhtdWM6IFtdLAogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBpdGVtczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9LAogICAgfSwKICB9LAogIGFzeW5jIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlcnMuYWRkRWRpdCA9PT0gZmFsc2UpIHsKICAgICAgdGhpcy5vYmpQcm9kdWN0cyA9IHRoaXMuaXRlbXM7CiAgICB9CiAgICBhd2FpdCBIVFRQLmdldChgL2RhbmhtdWNgKS50aGVuKChyZXMpID0+IHsKICAgICAgdGhpcy5kYW5obXVjID0gcmVzLmRhdGEubWFwKChlKSA9PiB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgIHZhbHVlOiB7IG1hZG06IGUubWFkbSwgdGVuZG06IGUudGVuZG0gfSwKICAgICAgICAgIHRleHQ6IGUudGVuZG0sCiAgICAgICAgfTsKICAgICAgfSk7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIG9uU3VibWl0KGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2Vycy5hZGRFZGl0ID09PSB0cnVlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGF3YWl0IEhUVFAucG9zdCgiL3NhbnBoYW0iLCB0aGlzLm9ialByb2R1Y3RzKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuJGVtaXQoImRvbmUiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhbGVydCgiVGjDqm0gc+G6o24gcGjhuqltIHRo4bqldCBi4bqhaSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgYWxlcnQoIjEgdHLGsOG7nW5nIMSRw6MgdOG7k24gdOG6oWksdnVpIGzDsm5nIMSR4buVaSIpOwogICAgICAgIH0KICAgICAgfSBlbHNlIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2Vycy5hZGRFZGl0ID09PSBmYWxzZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBIVFRQLnB1dCgiL3NhbnBoYW0iLCB0aGlzLm9ialByb2R1Y3RzKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuJGVtaXQoImRvbmUiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhbGVydCgiU+G7rWEgc+G6o24gcGjhuqltIHRo4bqldCBi4bqhaSIpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgYWxlcnQoIjEgdHLGsOG7nW5nIMSRw6MgdOG7k24gdOG6oWksdnVpIGzDsm5nIMSR4buVaSIpOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["addEditProduct.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addEditProduct.vue","sourceRoot":"src/components/AddEdit","sourcesContent":["<template>\n  <b-container>\n    <b-form @submit=\"onSubmit\">\n      <div v-for=\"(user, i) in product\" :key=\"i\">\n        <b-form-group :label=\"user.label\" :label-for=\"`input-${i}`\">\n          <b-form-select\n            class=\"select\"\n            v-if=\"user.key === 'danhmuc'\"\n            v-model=\"objProducts[user.key]\"\n            :options=\"danhmuc\"\n          ></b-form-select>\n          <b-form-input\n            v-else\n            :id=\"`input-${i}`\"\n            v-model=\"objProducts[user.key]\"\n            d=\"`input-${i}`\"\n            :disabled=\"\n              $store.state.users.addEdit === false && user.key === 'masp'\n            \"\n            :type=\"user.type\"\n            :placeholder=\"`Nhập ${user.label}`\"\n            required\n          ></b-form-input>\n        </b-form-group>\n      </div>\n      <div class=\"d-flex justify-content-end\">\n        <b-button type=\"submit\" variant=\"primary\" class=\"mt-3\">Submit</b-button>\n      </div>\n    </b-form>\n  </b-container>\n</template>\n<script>\nimport { objProducts, product } from \"../AdminPage/constant\";\nimport { HTTP } from \"../../API/http_common\";\nexport default {\n  data() {\n    return {\n      objProducts,\n      product,\n      danhmuc: [],\n    };\n  },\n  props: {\n    items: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  async created() {\n    if (this.$store.state.users.addEdit === false) {\n      this.objProducts = this.items;\n    }\n    await HTTP.get(`/danhmuc`).then((res) => {\n      this.danhmuc = res.data.map((e) => {\n        return {\n          value: { madm: e.madm, tendm: e.tendm },\n          text: e.tendm,\n        };\n      });\n    });\n  },\n  methods: {\n    async onSubmit(event) {\n      event.preventDefault();\n      if (this.$store.state.users.addEdit === true) {\n        try {\n          await HTTP.post(\"/sanpham\", this.objProducts).then((res) => {\n            if (res.status === 200) {\n              this.$emit(\"done\");\n            } else {\n              alert(\"Thêm sản phẩm thất bại\");\n            }\n          });\n        } catch (error) {\n          alert(\"1 trường đã tồn tại,vui lòng đổi\");\n        }\n      } else if (this.$store.state.users.addEdit === false) {\n        try {\n          await HTTP.put(\"/sanpham\", this.objProducts).then((res) => {\n            if (res.status === 200) {\n              this.$emit(\"done\");\n            } else {\n              alert(\"Sửa sản phẩm thất bại\");\n            }\n          });\n        } catch (error) {\n          alert(\"1 trường đã tồn tại,vui lòng đổi\");\n        }\n      }\n    },\n  },\n};\n</script>\n<style>\n.select {\n  width: 424px;\n  height: 57px;\n  border: 1px solid rgb(185, 184, 184);\n}\n</style>"]}]}