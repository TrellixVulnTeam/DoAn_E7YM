{"remainingRequest":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/Desktop/DoAn/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/Desktop/DoAn/src/components/Register.vue","mtime":1646390401159},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzcGlubmVyIGZyb20gIi4vc3Bpbm5lciI7CmltcG9ydCB7IHZhbGlkYXRpb25NaXhpbiB9IGZyb20gInZ1ZWxpZGF0ZSI7CmNvbnN0IHRvdWNoTWFwID0gbmV3IFdlYWtNYXAoKTsKaW1wb3J0IHsgcmVxdWlyZWQsIG1pbkxlbmd0aCwgZW1haWwgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgeyBIVFRQIH0gZnJvbSAiLi4vQVBJL2h0dHBfY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgc3Bpbm5lciB9LAogIG1peGluczogW3ZhbGlkYXRpb25NaXhpbl0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIGVtYWlsOiB7IHJlcXVpcmVkLCBlbWFpbCB9LAogICAgcGFzczogeyByZXF1aXJlZCwgbWluTGVuZ3RoOiBtaW5MZW5ndGgoMykgfSwKICAgIHBob25lOiB7IHJlcXVpcmVkIH0sCiAgICBmaXJzdDogeyByZXF1aXJlZCB9LAogICAgbGFzdDogeyByZXF1aXJlZCB9LAogICAgdXNlck5hbWU6IHsgcmVxdWlyZWQgfSwKICAgIGFkZHJlc3M6IHsgcmVxdWlyZWQgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBkZWxheVRvdWNoKCR2KSB7CiAgICAgICR2LiRyZXNldCgpOwogICAgICBpZiAodG91Y2hNYXAuaGFzKCR2KSkgewogICAgICAgIGNsZWFyVGltZW91dCh0b3VjaE1hcC5nZXQoJHYpKTsKICAgICAgfQogICAgICB0b3VjaE1hcC5zZXQoJHYsIHNldFRpbWVvdXQoJHYuJHRvdWNoLCAxMDAwKSk7CiAgICB9LAogICAgcmVxdWlyZUVycm9ycyhmaWVsZCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCFmaWVsZC4kZGlydHkpIHJldHVybiBlcnJvcnM7CiAgICAgICFmaWVsZC5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgiVGhpcyBmaWVsZCBpcyByZXF1aXJlZCIpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKICAgIGFzeW5jIHN1Ym1pdCgpIHsKICAgICAgdGhpcy4kdi4kdG91Y2goKTsKICAgICAgaWYgKHRoaXMuZW1haWwgJiYgdGhpcy5wYXNzICYmIHRoaXMuYWRkcmVzcyAmJiB0aGlzLnVzZXJOYW1lICYmIHRoaXMubGFzdCAmJiB0aGlzLmZpcnN0ICYmIHRoaXMucGhvbmUpIHsKICAgICAgICBhd2FpdCBIVFRQLnBvc3QoIi9yZWdpc3RlciIsIHsKICAgICAgICAgIHVzZXJuYW1lOiB0aGlzLnVzZXJOYW1lLAogICAgICAgICAgcGFzc3dvcmQ6IHRoaXMucGFzcywKICAgICAgICAgIGhvOiB0aGlzLmxhc3QsCiAgICAgICAgICB0ZW46IHRoaXMuZmlyc3QsCiAgICAgICAgICBnaW9pdGluaDogdGhpcy5nZW5kZXIsCiAgICAgICAgICBzZHQ6IHRoaXMucGhvbmUsCiAgICAgICAgICBlbWFpbDogdGhpcy5lbWFpbCwKICAgICAgICAgIGRpYWNoaTogdGhpcy5hZGRyZXNzLAogICAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWxlcnQoIsSQxINuZyBrw70gdGjhuqV0IGLhuqFpIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgewogICAgICAgICAgICBhbGVydCgiVnVpIGzDsm5nIMSRaeG7gW4gxJHhu6cgY8OhYyB0csaw4budbmcgYuG6r3QgYnXhu5ljIik7CiAgICAgICAgICB9CiAgICB9LAogICAgbG9naW4oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvIik7CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dQYXNzd29yZDogZmFsc2UsCiAgICAgIGVtYWlsOiAiIiwKICAgICAgcGFzczogIiIsCiAgICAgIGFkZHJlc3M6ICIiLAogICAgICBsYXN0OiAiIiwKICAgICAgZmlyc3Q6ICIiLAogICAgICB1c2VyTmFtZTogIiIsCiAgICAgIHBob25lOiAiIiwKICAgICAgZ2VuZGVyOiAwLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYXNzRXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnBhc3MuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5wYXNzLm1pbkxlbmd0aCAmJgogICAgICAgIGVycm9ycy5wdXNoKCJwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycyBsb25nIik7CiAgICAgICF0aGlzLiR2LnBhc3MucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goInBhc3N3b3JkIGlzIHJlcXVpcmVkLiIpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKICAgIGVtYWlsRXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LmVtYWlsLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYuZW1haWwuZW1haWwgJiYgZXJyb3JzLnB1c2goIk11c3QgYmUgdmFsaWQgZS1tYWlsIik7CiAgICAgICF0aGlzLiR2LmVtYWlsLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCJFLW1haWwgaXMgcmVxdWlyZWQiKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app>\n    <v-content>\n      <div class=\"top vuetify\" style=\"background-color: green\"></div>\n      <div class=\"main\">\n        <v-card width=\"500\" class=\"mx-auto mt-9\">\n          <v-card-title>Đăng ký tài khoản</v-card-title>\n          <v-card-text>\n            <form>\n              <v-text-field\n                v-model=\"email\"\n                :error-messages=\"emailErrors\"\n                label=\"Email\"\n                required\n                @input=\"delayTouch($v.email)\"\n                @blur=\"$v.email.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"userName\"\n                :error-messages=\"requireErrors($v.userName)\"\n                label=\"User Name\"\n                required\n                @input=\"delayTouch($v.userName)\"\n                @blur=\"$v.userName.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"first\"\n                :error-messages=\"requireErrors($v.first)\"\n                label=\"First Name\"\n                required\n                @input=\"delayTouch($v.first)\"\n                @blur=\"$v.first.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"last\"\n                :error-messages=\"requireErrors($v.last)\"\n                label=\"Last Name\"\n                required\n                @input=\"delayTouch($v.last)\"\n                @blur=\"$v.last.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"pass\"\n                type=\"password\"\n                :error-messages=\"passErrors\"\n                label=\"Password\"\n                required\n                @input=\"delayTouch($v.pass)\"\n                @blur=\"$v.pass.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"phone\"\n                :error-messages=\"requireErrors($v.phone)\"\n                label=\"Phone\"\n                required\n                @input=\"delayTouch($v.phone)\"\n                @blur=\"$v.phone.$touch()\"\n              ></v-text-field>\n\n              <v-text-field\n                v-model=\"address\"\n                :error-messages=\"requireErrors($v.address)\"\n                label=\"Address\"\n                required\n                @input=\"delayTouch($v.address)\"\n                @blur=\"$v.address.$touch()\"\n              ></v-text-field>\n              <v-radio-group v-model=\"gender\" row>\n                <template v-slot:label>\n                  <div>Gender :</div>\n                </template>\n                <v-radio label=\"Male\" :value=\"0\"></v-radio>\n                <v-radio label=\"Female\" :value=\"1\"></v-radio>\n              </v-radio-group>\n            </form>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn color=\"info\" @click=\"submit\">Đăng ký</v-btn>\n            <v-btn color=\"success\" @click=\"login\">Đăng nhập</v-btn>\n          </v-card-actions>\n        </v-card>\n        <spinner v-if=\"this.$store.state.users.is_login\" />\n      </div>\n      <div class=\"bot vuetify\" style=\"background-color: green\"></div>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport spinner from \"./spinner\";\nimport { validationMixin } from \"vuelidate\";\nconst touchMap = new WeakMap();\nimport { required, minLength, email } from \"vuelidate/lib/validators\";\nimport { HTTP } from \"../API/http_common\";\nexport default {\n  components: { spinner },\n  mixins: [validationMixin],\n  validations: {\n    email: { required, email },\n    pass: { required, minLength: minLength(3) },\n    phone: { required },\n    first: { required },\n    last: { required },\n    userName: { required },\n    address: { required },\n  },\n\n  methods: {\n    delayTouch($v) {\n      $v.$reset();\n      if (touchMap.has($v)) {\n        clearTimeout(touchMap.get($v));\n      }\n      touchMap.set($v, setTimeout($v.$touch, 1000));\n    },\n    requireErrors(field) {\n      const errors = [];\n      if (!field.$dirty) return errors;\n      !field.required && errors.push(\"This field is required\");\n      return errors;\n    },\n    async submit() {\n      this.$v.$touch();\n      if (this.email && this.pass && this.address && this.userName && this.last && this.first && this.phone) {\n        await HTTP.post(\"/register\", {\n          username: this.userName,\n          password: this.pass,\n          ho: this.last,\n          ten: this.first,\n          gioitinh: this.gender,\n          sdt: this.phone,\n          email: this.email,\n          diachi: this.address,\n        }).then((res) => {\n          if (res.status === 200) {\n            this.$router.push(\"/\");\n          } else {\n            alert(\"Đăng ký thất bại\");\n          }\n        });\n      }\n      {\n            alert(\"Vui lòng điền đủ các trường bắt buộc\");\n          }\n    },\n    login() {\n      this.$router.push(\"/\");\n    },\n  },\n  data() {\n    return {\n      showPassword: false,\n      email: \"\",\n      pass: \"\",\n      address: \"\",\n      last: \"\",\n      first: \"\",\n      userName: \"\",\n      phone: \"\",\n      gender: 0,\n    };\n  },\n  computed: {\n    passErrors() {\n      const errors = [];\n      if (!this.$v.pass.$dirty) return errors;\n      !this.$v.pass.minLength &&\n        errors.push(\"password must be at least 3 characters long\");\n      !this.$v.pass.required && errors.push(\"password is required.\");\n      return errors;\n    },\n    emailErrors() {\n      const errors = [];\n      if (!this.$v.email.$dirty) return errors;\n      !this.$v.email.email && errors.push(\"Must be valid e-mail\");\n      !this.$v.email.required && errors.push(\"E-mail is required\");\n      return errors;\n    },\n  },\n};\n</script>\n\n<style lang='scss' src='../style.scss' scoped/>\n"]}]}