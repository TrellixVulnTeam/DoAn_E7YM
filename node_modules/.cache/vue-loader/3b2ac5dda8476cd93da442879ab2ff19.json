{"remainingRequest":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/Desktop/DoAn/src/components/AddEdit/addEditOrder.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/Desktop/DoAn/src/components/AddEdit/addEditOrder.vue","mtime":1646550939254},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBZGRQcm8gZnJvbSAiLi9Qcm9kdWN0LnZ1ZSI7CmltcG9ydCB7IEhUVFAgfSBmcm9tICIuLi8uLi9BUEkvaHR0cF9jb21tb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkQ3VzdG9tZXI6IG51bGwsCiAgICAgIGFkZDogW10sCiAgICAgIGRvbmVBZGQ6IFtdLAogICAgICBzdGF0dXM6IG51bGwsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogeyBBZGRQcm8gfSwKICBjb21wdXRlZDogewogICAgbGlzdEtIKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUudXNlcnMubGlzdEtILm1hcCgoZSkgPT4gewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB2YWx1ZTogZS5tYWtoLAogICAgICAgICAgdGV4dDogZS5tYWtoLAogICAgICAgIH07CiAgICAgIH0pOwogICAgfSwKICB9LAogIHByb3BzOiB7CiAgICBpdGVtczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6ICgpID0+IHt9LAogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlcnMuYWRkRWRpdCA9PT0gZmFsc2UpIHsKICAgICAgdGhpcy5zdGF0dXMgPSB0aGlzLml0ZW1zLnRyYW5ndGhhaTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIG9uU3VibWl0KGV2ZW50KSB7CiAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2Vycy5hZGRFZGl0ID09PSB0cnVlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGF3YWl0IEhUVFAucG9zdChgL2RvbmhhbmcvJHt0aGlzLmlkQ3VzdG9tZXJ9YCwgdGhpcy5kb25lQWRkKS50aGVuKAogICAgICAgICAgICAocmVzKSA9PiB7CiAgICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgiZG9uZSIpOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBhbGVydCgiVGjDqm0gxJHGoW4gaMOgbmcgdGjhuqV0IGLhuqFpIik7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICApOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBhbGVydCgiVGjDqm0gxJHGoW4gaMOgbmcgdGjhuqV0IGLhuqFpIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJzLmFkZEVkaXQgPT09IGZhbHNlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGNvbnN0IG9iaiA9IHsgLi4udGhpcy5pdGVtcyB9OwogICAgICAgICAgb2JqLnRyYW5ndGhhaSA9IHRoaXMuc3RhdHVzOwogICAgICAgICAgYXdhaXQgSFRUUC5wdXQoIi9kb25oYW5nIiwgb2JqKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgICAgaWYgKHJlcy5zdGF0dXMgPT09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMuJGVtaXQoImRvbmUiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBhbGVydCgiU+G7rWEgxJHGoW4gaMOgbmcgdGjhuqV0IGLhuqFpIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBhbGVydCgiU+G7rWEgxJHGoW4gaMOgbmcgdGjhuqV0IGLhuqFpIik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYWRkU1AodmFsKSB7CiAgICAgIHRoaXMuZG9uZUFkZC5wdXNoKHZhbCk7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["addEditOrder.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addEditOrder.vue","sourceRoot":"src/components/AddEdit","sourcesContent":["<template>\n  <b-container>\n    <div v-if=\"$store.state.users.addEdit === true\">\n      <p>Mã KH</p>\n      <b-form-select\n        class=\"select\"\n        v-model=\"idCustomer\"\n        :options=\"listKH\"\n      ></b-form-select>\n      <b-button\n        size=\"sm\"\n        :disabled=\"!idCustomer\"\n        @click=\"add.push(1)\"\n        class=\"mt-2\"\n        variant=\"success\"\n        >Thêm SP</b-button\n      >\n      <div v-for=\"pro in add\" :key=\"pro\">\n        <AddPro @done1SP=\"addSP\" />\n      </div>\n      <div class=\"d-flex justify-content-end\" v-if=\"this.doneAdd.length !== 0\">\n        <b-button\n          @click=\"onSubmit\"\n          variant=\"success\"\n          :disabled=\"dis\"\n          class=\"mt-3\"\n          >Submit</b-button\n        >\n      </div>\n    </div>\n    <div v-else>\n      <p>Trạng Thái</p>\n      <b-form-select\n        class=\"select\"\n        v-model=\"status\"\n        :options=\"this.$store.state.food.status\"\n      ></b-form-select>\n      <div class=\"d-flex justify-content-end\" v-if=\"status\">\n        <b-button @click=\"onSubmit\" variant=\"success\" class=\"mt-3\"\n          >Submit</b-button\n        >\n      </div>\n    </div>\n  </b-container>\n</template>\n<script>\nimport AddPro from \"./Product.vue\";\nimport { HTTP } from \"../../API/http_common\";\nexport default {\n  data() {\n    return {\n      idCustomer: null,\n      add: [],\n      doneAdd: [],\n      status: null,\n    };\n  },\n  components: { AddPro },\n  computed: {\n    listKH() {\n      return this.$store.state.users.listKH.map((e) => {\n        return {\n          value: e.makh,\n          text: e.makh,\n        };\n      });\n    },\n  },\n  props: {\n    items: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  created() {\n    if (this.$store.state.users.addEdit === false) {\n      this.status = this.items.trangthai;\n    }\n  },\n  methods: {\n    async onSubmit(event) {\n      event.preventDefault();\n      if (this.$store.state.users.addEdit === true) {\n        try {\n          await HTTP.post(`/donhang/${this.idCustomer}`, this.doneAdd).then(\n            (res) => {\n              if (res.status === 200) {\n                this.$emit(\"done\");\n              } else {\n                alert(\"Thêm đơn hàng thất bại\");\n              }\n            }\n          );\n        } catch (error) {\n          alert(\"Thêm đơn hàng thất bại\");\n        }\n      } else if (this.$store.state.users.addEdit === false) {\n        try {\n          const obj = { ...this.items };\n          obj.trangthai = this.status;\n          await HTTP.put(\"/donhang\", obj).then((res) => {\n            if (res.status === 200) {\n              this.$emit(\"done\");\n            } else {\n              alert(\"Sửa đơn hàng thất bại\");\n            }\n          });\n        } catch (error) {\n          alert(\"Sửa đơn hàng thất bại\");\n        }\n      }\n    },\n    addSP(val) {\n      this.doneAdd.push(val);\n    },\n  },\n};\n</script>"]}]}