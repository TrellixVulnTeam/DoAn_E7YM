{"remainingRequest":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/Desktop/DoAn/src/components/AdminPage/addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/Desktop/DoAn/src/components/AdminPage/addEdit.vue","mtime":1646408855436},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG9iakN1c3RvbWVyLCBjdXN0b21lciB9IGZyb20gIi4vY29uc3RhbnQiOwppbXBvcnQgeyBIVFRQIH0gZnJvbSAiLi4vLi4vQVBJL2h0dHBfY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBvYmpDdXN0b21lciwKICAgICAgY3VzdG9tZXIsCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIGl0ZW1zOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogKCkgPT4ge30sCiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsKICAgIGlmICh0aGlzLiRzdG9yZS5zdGF0ZS51c2Vycy5hZGRFZGl0ID09PSBmYWxzZSkgewogICAgICB0aGlzLm9iakN1c3RvbWVyID0gdGhpcy5pdGVtczsKICAgICAgdGhpcy5vYmpDdXN0b21lci51c2VybmFtZSA9IHRoaXMuaXRlbXMudGFpa2hvYW4udXNlcm5hbWU7CiAgICAgIHRoaXMub2JqQ3VzdG9tZXIucGFzc3dvcmQgPSB0aGlzLml0ZW1zLnRhaWtob2FuLnBhc3N3b3JkOwogICAgICBkZWxldGUgdGhpcy5vYmpDdXN0b21lci5raGFjaGhhbmc7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBhc3luYyBvblN1Ym1pdChldmVudCkgewogICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICBpZiAodGhpcy4kc3RvcmUuc3RhdGUudXNlcnMuYWRkRWRpdCA9PT0gdHJ1ZSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBhd2FpdCBIVFRQLnBvc3QoIi9yZWdpc3RlciIsIHRoaXMub2JqQ3VzdG9tZXIpLnRoZW4oKHJlcykgPT4gewogICAgICAgICAgICBpZiAocmVzLnN0YXR1cyA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgdGhpcy4kZW1pdCgiZG9uZSIpOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGFsZXJ0KCJUaMOqbSBraMOhY2ggdGjhuqV0IGLhuqFpIik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBhbGVydCgiVXNlcm5hbWUgxJHDoyB04buTbiB04bqhaSx2dWkgbMOybmcgxJHhu5VpIik7CiAgICAgICAgfQogICAgICB9IGVsc2UgaWYgKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXJzLmFkZEVkaXQgPT09IGZhbHNlKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGF3YWl0IEhUVFAucHV0KCIva2hhY2hoYW5nIiwgdGhpcy5vYmpDdXN0b21lcikudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJkb25lIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgYWxlcnQoIlPhu61hIGtow6FjaCB0aOG6pXQgYuG6oWkiKTsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgIGFsZXJ0KCJVc2VybmFtZSDEkcOjIHThu5NuIHThuqFpLHZ1aSBsw7JuZyDEkeG7lWkiKTsKICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["addEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addEdit.vue","sourceRoot":"src/components/AdminPage","sourcesContent":["<template>\n  <b-container>\n    <b-form @submit=\"onSubmit\">\n      <div v-for=\"(user, i) in customer\" :key=\"i\">\n        <b-form-group :label=\"user.label\" :label-for=\"`input-${i}`\">\n          <v-radio-group\n            v-if=\"user.key === 'gioitinh'\"\n            :id=\"`input-${i}`\"\n            v-model=\"objCustomer[user.key]\"\n            required\n            row\n          >\n            <v-radio label=\"Male\" :value=\"0\"></v-radio>\n            <v-radio label=\"Female\" :value=\"1\"></v-radio>\n          </v-radio-group>\n          <b-form-input\n            v-else\n            :id=\"`input-${i}`\"\n            v-model=\"objCustomer[user.key]\"\n            :type=\"user.type\"\n            :placeholder=\"`Nhập ${user.label}`\"\n            required\n          ></b-form-input>\n        </b-form-group>\n      </div>\n      <div class=\"d-flex justify-content-end\">\n        <b-button type=\"submit\" variant=\"primary\" class=\"mt-3\">Submit</b-button>\n      </div>\n    </b-form>\n  </b-container>\n</template>\n<script>\nimport { objCustomer, customer } from \"./constant\";\nimport { HTTP } from \"../../API/http_common\";\nexport default {\n  data() {\n    return {\n      objCustomer,\n      customer,\n    };\n  },\n  props: {\n    items: {\n      type: Object,\n      default: () => {},\n    },\n  },\n  created() {\n    if (this.$store.state.users.addEdit === false) {\n      this.objCustomer = this.items;\n      this.objCustomer.username = this.items.taikhoan.username;\n      this.objCustomer.password = this.items.taikhoan.password;\n      delete this.objCustomer.khachhang;\n    }\n  },\n  methods: {\n    async onSubmit(event) {\n      event.preventDefault();\n      if (this.$store.state.users.addEdit === true) {\n        try {\n          await HTTP.post(\"/register\", this.objCustomer).then((res) => {\n            if (res.status === 200) {\n              this.$emit(\"done\");\n            } else {\n              alert(\"Thêm khách thất bại\");\n            }\n          });\n        } catch (error) {\n          alert(\"Username đã tồn tại,vui lòng đổi\");\n        }\n      } else if (this.$store.state.users.addEdit === false) {\n        try {\n          await HTTP.put(\"/khachhang\", this.objCustomer).then((res) => {\n            if (res.status === 200) {\n              this.$emit(\"done\");\n            } else {\n              alert(\"Sửa khách thất bại\");\n            }\n          });\n        } catch (error) {\n          alert(\"Username đã tồn tại,vui lòng đổi\");\n        }\n      }\n    },\n  },\n};\n</script>"]}]}