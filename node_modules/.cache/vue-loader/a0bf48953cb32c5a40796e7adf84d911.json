{"remainingRequest":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/Desktop/DoAn/src/components/table.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/Desktop/DoAn/src/components/table.vue","mtime":1647053625747},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBZGRFZGl0Q3VzIGZyb20gIi4vQWRkRWRpdC9hZGRFZGl0Q3VzLnZ1ZSI7CmltcG9ydCBBZGRFZGl0T3JkZXIgZnJvbSAiLi9BZGRFZGl0L2FkZEVkaXRPcmRlci52dWUiOwppbXBvcnQgQWRkRWRpdENhdGUgZnJvbSAiLi9BZGRFZGl0L2FkZEVkaXRDYXRlLnZ1ZSI7CmltcG9ydCBBZGRFZGl0UHJvZHVjdCBmcm9tICIuL0FkZEVkaXQvYWRkRWRpdFByb2R1Y3QudnVlIjsKaW1wb3J0IEFkZEVkaXRTdGFmZiBmcm9tICIuL0FkZEVkaXQvYWRkRWRpdFN0YWZmLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgaXRlbXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6ICgpID0+IFtdLAogICAgfSwKICAgIGZpZWxkczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgZGVmYXVsdDogKCkgPT4gW10sCiAgICB9LAogICAgaXNPcmRlcjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBpc0N1czogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZSwKICAgIH0sCiAgICBpc1N0YWZmOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlLAogICAgfSwKICAgIGlzQ2F0ZWdvcnk6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogICAgaXNQcm86IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UsCiAgICB9LAogIH0sCiAgY29tcG9uZW50czogewogICAgQWRkRWRpdEN1cywKICAgIEFkZEVkaXRQcm9kdWN0LAogICAgQWRkRWRpdENhdGUsCiAgICBBZGRFZGl0T3JkZXIsCiAgICBBZGRFZGl0U3RhZmYsCiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdHMoKSB7CiAgICAgIGNvbnN0IGl0ZW1zID0gdGhpcy5pdGVtczsKICAgICAgcmV0dXJuIGl0ZW1zLnNsaWNlKAogICAgICAgICh0aGlzLmN1cnJlbnRQYWdlIC0gMSkgKiB0aGlzLnBlclBhZ2UsCiAgICAgICAgdGhpcy5jdXJyZW50UGFnZSAqIHRoaXMucGVyUGFnZQogICAgICApOwogICAgfSwKICAgIHRvdGFsUm93cygpIHsKICAgICAgcmV0dXJuIHRoaXMuaXRlbXMubGVuZ3RoOwogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjdXJyZW50UGFnZTogMSwKICAgICAgcGVyUGFnZTogMTAsCiAgICAgIGZpbHRlcjogbnVsbCwKICAgICAgZWRpdFBhZ2U6IGZhbHNlLAogICAgICBpbmRleEVkaXQ6IG51bGwsCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZGV0YWlsKG9yZGVySWQpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goYGRldGFpbC8ke29yZGVySWR9YCk7CiAgICB9LAogICAgaGFuZGxlUGFnZShpbmRleCwgcGFnZSwgcXVhbnRpdHkpIHsKICAgICAgaWYgKHBhZ2UgPT09IDEpIHJldHVybiBpbmRleDsKICAgICAgcmV0dXJuIGluZGV4ICsgKHBhZ2UgLSAxKSAqIHF1YW50aXR5OwogICAgfSwKICAgIGNoZWNrVXBkYXRlKCkgewogICAgICB0aGlzLmVkaXRQYWdlID0gZmFsc2U7CiAgICAgIHRoaXMuJGVtaXQoImFkZCIpOwogICAgfSwKICAgIGRldGFpbFByb2R1Y3QoaWQpIHsKICAgICAgdGhpcy4kZW1pdCgidXBkYXRlIiwgaWQpOwogICAgfSwKICAgIHNob3dFZGl0KGFjdGlvbiwgaW5kZXgpIHsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNldEFjdGlvbnMiLCBhY3Rpb24pOwogICAgICB0aGlzLmVkaXRQYWdlID0gdHJ1ZTsKICAgICAgdGhpcy5pbmRleEVkaXQgPSBpbmRleDsKICAgIH0sCiAgICBoYW5kbGVTdGF0dXMoc3RhdHVzKSB7CiAgICAgIGxldCB0ZW1wID0gdGhpcy4kc3RvcmUuc3RhdGUuZm9vZC5zdGF0dXMuZmluZCgoZSkgPT4gewogICAgICAgIHJldHVybiBlLnZhbHVlID09PSBzdGF0dXM7CiAgICAgIH0pOwogICAgICByZXR1cm4gdGVtcDsKICAgIH0sCiAgICBoYW5kbGVEZWxldGUoaWQpIHsKICAgICAgaWYgKGNvbmZpcm0oIkLhuqFuIGNo4bqvYyBjaOG6r24gbXXhu5FuIHjDs2EgPyIpKSB7CiAgICAgICAgdGhpcy4kZW1pdCgiZGVsIiwgaWQpOwogICAgICB9CiAgICB9LAogICAgZm9ybWF0Q2FzaCh2YWx1ZSkgewogICAgICBsZXQgdmFsID0gKHZhbHVlIC8gMSkudG9GaXhlZCgwKS5yZXBsYWNlKCIuIiwgIiwiKTsKICAgICAgcmV0dXJuIHZhbC50b1N0cmluZygpLnJlcGxhY2UoL1xCKD89KFxkezN9KSsoPyFcZCkpL2csICIsIik7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["table.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"table.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <b-container fluid style=\"width: 1125px; margin-left: 270px\">\n    <!-- User Interface controls -->\n    <b-row>\n      <b-col lg=\"6\" class=\"my-1\">\n        <b-form-group class=\"mb-1 mt-5\">\n          <b-input-group size=\"sm\">\n            <b-form-input\n              id=\"filter-input\"\n              v-model=\"filter\"\n              type=\"search\"\n              placeholder=\"Type to Search\"\n            ></b-form-input>\n\n            <b-button :disabled=\"!filter\" @click=\"filter = ''\">Clear</b-button>\n          </b-input-group>\n        </b-form-group>\n      </b-col>\n      <b-col lg=\"6\" class=\"my-1 add\">\n        <b-button\n          v-if=\"isCategory || isPro\"\n          variant=\"success\"\n          @click=\"showEdit(true)\"\n          >Thêm</b-button\n        >\n      </b-col>\n    </b-row>\n\n    <!-- Main table element -->\n    <b-table\n      class=\"mt-5\"\n      :items=\"lists\"\n      :fields=\"fields\"\n      :filter=\"filter\"\n      show-empty\n      small\n    >\n      <template #cell(name)=\"row\">\n        {{ row.item.ho }} {{ row.item.ten }}\n      </template>\n      <template #cell(dongia)=\"row\">\n        {{ formatCash(row.item.dongia) }}\n      </template>\n      <template #cell(tongtien)=\"row\">\n        {{ formatCash(row.item.tongtien) }}\n      </template>\n      <template #cell(luong)=\"row\">\n        {{ formatCash(row.item.luong) }}\n      </template>\n      <template #cell(nameKH)=\"row\">\n        {{ row.item.khachhang.ho }} {{ row.item.khachhang.ten }}\n      </template>\n      <template #cell(ngaydat)=\"row\">\n        {{ row.item.ngaydat | moment(\"DD/MM/YYYY\") }}\n      </template>\n      <template #cell(gender)=\"row\">\n        {{ row.item.gioitinh ? \"Nữ\" : \"Nam\" }}\n      </template>\n      <template #cell(photo)=\"row\">\n        <img\n          :src=\"row.item.photo\"\n          alt=\"hinhanh\"\n          style=\"width: 50px; height: 50px\"\n        />\n      </template>\n      <template #cell(trangthai)=\"row\">\n        <b-button\n          size=\"sm\"\n          :variant=\"handleStatus(row.item.trangthai).color\"\n          style=\"margin-right: 5px\"\n        >\n          {{ handleStatus(row.item.trangthai).text }}\n        </b-button>\n      </template>\n\n      <template #cell(actions)=\"row\">\n        <b-button\n          v-if=\"isOrder\"\n          size=\"sm\"\n          variant=\"outline-primary\"\n          style=\"margin-right: 5px\"\n          @click=\"detail(row.item.madh)\"\n        >\n          Xem chi tiết\n        </b-button>\n        <b-button\n          v-if=\"isCategory\"\n          size=\"sm\"\n          variant=\"outline-primary\"\n          style=\"margin-right: 5px\"\n          @click=\"detailProduct(row.item.madm)\"\n        >\n          Xem sản phẩm\n        </b-button>\n        <b-button\n          size=\"sm\"\n          v-if=\"isOrder\"\n          variant=\"outline-success\"\n          style=\"margin-right: 5px\"\n          @click=\"showEdit(false, handlePage(row.index, currentPage, perPage))\"\n        >\n          Xác nhận\n        </b-button>\n        <b-button\n          v-if=\"!isOrder\"\n          size=\"sm\"\n          variant=\"outline-warning\"\n          style=\"margin-right: 5px\"\n          @click=\"showEdit(false, handlePage(row.index, currentPage, perPage))\"\n        >\n          Sứa\n        </b-button>\n        <b-button\n          size=\"sm\"\n          variant=\"outline-danger\"\n          @click=\"handleDelete(row.item)\"\n        >\n          Xóa\n        </b-button>\n      </template>\n    </b-table>\n    <b-col sm=\"7\" md=\"6\" class=\"my-1\" style=\"transform: translateX(200px)\">\n      <b-pagination\n        v-model=\"currentPage\"\n        :total-rows=\"totalRows\"\n        :per-page=\"perPage\"\n        align=\"fill\"\n        size=\"sm\"\n        class=\"my-0\"\n      ></b-pagination>\n    </b-col>\n    <b-modal hide-footer scrollable v-model=\"editPage\" title=\"BootstrapVue\">\n      <AddEditCus v-if=\"isCus\" @done=\"checkUpdate\" :items=\"items[indexEdit]\" />\n      <AddEditStaff\n        v-if=\"isStaff\"\n        @done=\"checkUpdate\"\n        :items=\"items[indexEdit]\"\n      />\n      <AddEditProduct\n        v-if=\"isPro\"\n        @done=\"checkUpdate\"\n        :items=\"items[indexEdit]\"\n      />\n      <AddEditCate\n        v-if=\"isCategory\"\n        @done=\"checkUpdate\"\n        :items=\"items[indexEdit]\"\n      />\n      <AddEditOrder\n        v-if=\"isOrder\"\n        @done=\"checkUpdate\"\n        :items=\"items[indexEdit]\"\n      />\n    </b-modal>\n  </b-container>\n</template>\n\n<script>\nimport AddEditCus from \"./AddEdit/addEditCus.vue\";\nimport AddEditOrder from \"./AddEdit/addEditOrder.vue\";\nimport AddEditCate from \"./AddEdit/addEditCate.vue\";\nimport AddEditProduct from \"./AddEdit/addEditProduct.vue\";\nimport AddEditStaff from \"./AddEdit/addEditStaff.vue\";\nexport default {\n  props: {\n    items: {\n      type: Array,\n      default: () => [],\n    },\n    fields: {\n      type: Array,\n      default: () => [],\n    },\n    isOrder: {\n      type: Boolean,\n      default: false,\n    },\n    isCus: {\n      type: Boolean,\n      default: false,\n    },\n    isStaff: {\n      type: Boolean,\n      default: false,\n    },\n    isCategory: {\n      type: Boolean,\n      default: false,\n    },\n    isPro: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  components: {\n    AddEditCus,\n    AddEditProduct,\n    AddEditCate,\n    AddEditOrder,\n    AddEditStaff,\n  },\n  computed: {\n    lists() {\n      const items = this.items;\n      return items.slice(\n        (this.currentPage - 1) * this.perPage,\n        this.currentPage * this.perPage\n      );\n    },\n    totalRows() {\n      return this.items.length;\n    },\n  },\n  data() {\n    return {\n      currentPage: 1,\n      perPage: 10,\n      filter: null,\n      editPage: false,\n      indexEdit: null,\n    };\n  },\n  methods: {\n    detail(orderId) {\n      this.$router.push(`detail/${orderId}`);\n    },\n    handlePage(index, page, quantity) {\n      if (page === 1) return index;\n      return index + (page - 1) * quantity;\n    },\n    checkUpdate() {\n      this.editPage = false;\n      this.$emit(\"add\");\n    },\n    detailProduct(id) {\n      this.$emit(\"update\", id);\n    },\n    showEdit(action, index) {\n      this.$store.dispatch(\"setActions\", action);\n      this.editPage = true;\n      this.indexEdit = index;\n    },\n    handleStatus(status) {\n      let temp = this.$store.state.food.status.find((e) => {\n        return e.value === status;\n      });\n      return temp;\n    },\n    handleDelete(id) {\n      if (confirm(\"Bạn chắc chắn muốn xóa ?\")) {\n        this.$emit(\"del\", id);\n      }\n    },\n    formatCash(value) {\n      let val = (value / 1).toFixed(0).replace(\".\", \",\");\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n  },\n};\n</script>"]}]}