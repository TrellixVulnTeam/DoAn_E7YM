{"remainingRequest":"/home/hieule/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/DoAn/src/components/FoodList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/DoAn/src/components/FoodList.vue","mtime":1628475480610},{"path":"/home/hieule/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IEhUVFAgfSBmcm9tICIuLi9BUEkvaHR0cF9jb21tb24iOwpleHBvcnQgZGVmYXVsdCB7CiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBlclBhZ2U6IDQsCiAgICAgIGN1cnJlbnRQYWdlOiAxLAogICAgICBuYW1lRm9vZDogIiIsCiAgICAgIGltZ2FnZTogIiIsCiAgICAgIGRlc2NyaXB0aW9uOiAiIiwKICAgICAgcHJpY2U6ICIiLAogICAgICBpZF9mb29kOiAiIiwKICAgICAgc2VhcmNoOiAiIiwKICAgIH07CiAgfSwKICBjcmVhdGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldGZvb2QiLCAwKTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICByb3dzKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuZm9vZC5mb29kcy5sZW5ndGg7CiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnRQYWdlOiB7CiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgICAgaGFuZGxlcihkYXRhKSB7CiAgICAgICAgaWYgKGRhdGEgIT09IDEpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKAogICAgICAgICAgICAiZ2V0Zm9vZCIsCiAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmZvb2QuZm9vZHNbMTFdLnVwZGF0ZWRBdAogICAgICAgICAgKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldGZvb2QiLCAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogICAgc2VhcmNoOiB7CiAgICAgIGhhbmRsZXIoZGF0YSkgewogICAgICAgIGlmIChkYXRhICE9PSAiIikgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNlYXJjaGZvb2QiLCBkYXRhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldGZvb2QiLCAwKTsKICAgICAgICB9CiAgICAgIH0sCiAgICB9LAogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgc2hvd01vZGFsKGlkX2Zvb2QpIHsKICAgICAgYXdhaXQgSFRUUC5nZXQoYC9mb29kL2RldGFpbC8ke2lkX2Zvb2R9YCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgdGhpcy5uYW1lRm9vZCA9IHJlcy5kYXRhLmRhdGEuZm9vZE5hbWU7CiAgICAgICAgdGhpcy5pbWFnZSA9IHJlcy5kYXRhLmRhdGEuaW1hZ2VzWzBdLmltYWdlVXJsOwogICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSByZXMuZGF0YS5kYXRhLmRlc2NyaXB0aW9uOwogICAgICAgIHRoaXMucHJpY2UgPSByZXMuZGF0YS5kYXRhLnByaWNlOwogICAgICAgIHRoaXMuaWRfZm9vZCA9IGlkX2Zvb2Q7CiAgICAgIH0pOwogICAgICB0aGlzLiRyZWZzWyJtb2RhbC0xIl0uc2hvdygpOwogICAgfSwKICAgIGFzeW5jIGFkZFRvQ2FyZChmb29kSWQpIHsKICAgICAgYXdhaXQgSFRUUC5wb3N0KGAvb3JkZXIvYWRkLXRvLWNhcnRgLCB7IGZvb2RJZDogZm9vZElkIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXROdW1RdWFuIik7CiAgICAgIH0pOwogICAgfSwKICAgIGZvcm1hdENhc2godmFsdWUpIHsKICAgICAgbGV0IHZhbCA9ICh2YWx1ZSAvIDEpLnRvRml4ZWQoMCkucmVwbGFjZSgiLiIsICIsIik7CiAgICAgIHJldHVybiB2YWwudG9TdHJpbmcoKS5yZXBsYWNlKC9cQig/PShcZHszfSkrKD8hXGQpKS9nLCAiLCIpOwogICAgfSwKICB9LAp9Owo="},{"version":3,"sources":["FoodList.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FoodList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <b-container fluid>\n    <b-row>\n      <b-col lg=\"6\" class=\"my-1 ml-5\">\n        <b-form-group\n          label-cols-sm=\"3\"\n          label-align-sm=\"right\"\n          label-size=\"sm\"\n          class=\"mb-0\"\n        >\n          <b-input-group size=\"sm\">\n            <input\n              v-model=\"search\"\n              style=\"height: 31px\"\n              type=\"search\"\n              placeholder=\"Tìm món\"\n            />\n\n            <b-input-group-append>\n              <b-button size=\"sm\" @click=\"search = ''\">Clear</b-button>\n            </b-input-group-append>\n          </b-input-group>\n        </b-form-group>\n      </b-col>\n    </b-row>\n    <div class=\"d-flex justify-content-center flex-wrap\">\n      <div\n        v-for=\"item in this.$store.state.food.foods\"\n        :key=\"item\"\n        class=\"mt-3 ml-2\"\n      >\n        <div class=\"food\" @click=\"showModal(item.foodId)\">\n          <div class=\"d-flex justify-content-center\">\n            <h6>{{ item.foodName.slice(0, 20) }}</h6>\n          </div>\n          <div class=\"d-flex justify-content-center\">\n            <img class=\"img_list\" :src=\"item.images[0].imageUrl\" alt=\"\" />\n          </div>\n\n          <div class=\"d-flex justify-content-center align-items-center mt-2\">\n            <p class=\"mr-2 mt-2\">{{ formatCash(item.price.toString()) }}</p>\n            <b-button\n              variant=\"success\"\n              size=\"sm\"\n              class=\"mb-2\"\n              @click.stop=\"addToCard(item.foodId)\"\n              >Mua ngay</b-button\n            >\n          </div>\n        </div>\n      </div>\n      <b-pagination\n        class=\"mt-4\"\n        v-model=\"currentPage\"\n        :total-rows=\"rows\"\n        :per-page=\"perPage\"\n        aria-controls=\"my-table\"\n      ></b-pagination>\n      <b-modal ref=\"modal-1\" hide-footer hide-header-close hide-header>\n        <div>\n          <h4>{{ nameFood }}</h4>\n          <div class=\"d-flex justify-content-center\">\n            <img :src=\"image\" class=\"img_detail\" />\n          </div>\n          <p>{{ description }}</p>\n          <div class=\"d-flex justify-content-between\">\n            <b-button\n              variant=\"success\"\n              size=\"sm\"\n              class=\"mb-2\"\n              @click=\"addToCard(id_food)\"\n              >Mua ngay</b-button\n            >\n            <h5>{{ formatCash(price.toString()) }}đ</h5>\n          </div>\n        </div>\n      </b-modal>\n    </div>\n  </b-container>\n</template>\n<script>\nimport { HTTP } from \"../API/http_common\";\nexport default {\n  data() {\n    return {\n      perPage: 4,\n      currentPage: 1,\n      nameFood: \"\",\n      imgage: \"\",\n      description: \"\",\n      price: \"\",\n      id_food: \"\",\n      search: \"\",\n    };\n  },\n  created() {\n    this.$store.dispatch(\"getfood\", 0);\n  },\n  computed: {\n    rows() {\n      return this.$store.state.food.foods.length;\n    },\n  },\n  watch: {\n    currentPage: {\n      immediate: true,\n      handler(data) {\n        if (data !== 1) {\n          this.$store.dispatch(\n            \"getfood\",\n            this.$store.state.food.foods[11].updatedAt\n          );\n        } else {\n          this.$store.dispatch(\"getfood\", 0);\n        }\n      },\n    },\n    search: {\n      handler(data) {\n        if (data !== \"\") {\n          this.$store.dispatch(\"searchfood\", data);\n        } else {\n          this.$store.dispatch(\"getfood\", 0);\n        }\n      },\n    },\n  },\n  methods: {\n    async showModal(id_food) {\n      await HTTP.get(`/food/detail/${id_food}`).then((res) => {\n        this.nameFood = res.data.data.foodName;\n        this.image = res.data.data.images[0].imageUrl;\n        this.description = res.data.data.description;\n        this.price = res.data.data.price;\n        this.id_food = id_food;\n      });\n      this.$refs[\"modal-1\"].show();\n    },\n    async addToCard(foodId) {\n      await HTTP.post(`/order/add-to-cart`, { foodId: foodId }).then(() => {\n        this.$store.dispatch(\"getNumQuan\");\n      });\n    },\n    formatCash(value) {\n      let val = (value / 1).toFixed(0).replace(\".\", \",\");\n      return val.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n    },\n  },\n};\n</script>\n<style lang='scss' src='../style.scss' scoped/>"]}]}