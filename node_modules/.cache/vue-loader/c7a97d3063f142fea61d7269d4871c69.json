{"remainingRequest":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/Desktop/DoAn/src/components/AdminPage/product.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/Desktop/DoAn/src/components/AdminPage/product.vue","mtime":1646483274798},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/Desktop/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/Desktop/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KCmltcG9ydCBUYWJsZSBmcm9tICIuLi90YWJsZS52dWUiOwppbXBvcnQgeyBIVFRQIH0gZnJvbSAiLi4vLi4vQVBJL2h0dHBfY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgVGFibGUgfSwKICBwcm9wczogewogICAgU1BDYXRlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIsCiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlzUHJvOnRydWUsCiAgICAgIGl0ZW1zOiBbXSwKICAgICAgZmllbGRzOiBbCiAgICAgICAgewogICAgICAgICAga2V5OiAibWFzcCIsCiAgICAgICAgICBsYWJlbDogIk3DoyBTUCIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJkYW5obXVjLnRlbmRtIiwKICAgICAgICAgIGxhYmVsOiAiRGFuaCBt4bulYyIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJ0ZW5zcCIsCiAgICAgICAgICBsYWJlbDogIlTDqm4gU1AiLAogICAgICAgIH0sCiAgICAgICAgewogICAgICAgICAga2V5OiAiZG9uZ2lhIiwKICAgICAgICAgIGxhYmVsOiAiR2nDoSIsCiAgICAgICAgfSwKICAgICAgICB7CiAgICAgICAgICBrZXk6ICJzb2x1b25nIiwKICAgICAgICAgIGxhYmVsOiAiU+G7kSBsxrDhu6NuZyIsCiAgICAgICAgICBjbGFzczogInRleHQtY2VudGVyIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogIm1vdGFfbmdhbiIsCiAgICAgICAgICBsYWJlbDogIk3DtCB04bqjIiwKICAgICAgICB9LAogICAgICAgIHsKICAgICAgICAgIGtleTogInBob3RvIiwKICAgICAgICAgIGxhYmVsOiAiSMOsbmgg4bqjbmgiLAogICAgICAgIH0sCiAgICAgICAgeyBrZXk6ICJhY3Rpb25zIiwgbGFiZWw6ICJBY3Rpb25zIiB9LAogICAgICBdLAogICAgfTsKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLnJlbG9hZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgcmVsb2FkKCkgewogICAgICBpZiAoIXRoaXMuU1BDYXRlKSB7CiAgICAgICAgYXdhaXQgSFRUUC5nZXQoYC9zYW5waGFtYCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICB0aGlzLml0ZW1zID0gcmVzLmRhdGE7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgYXdhaXQgSFRUUC5nZXQoYC9zYW5waGFtL2RhbmhtdWMvJHt0aGlzLlNQQ2F0ZX1gKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIHRoaXMuaXRlbXMgPSByZXMuZGF0YTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZUFkZCgpewogICAgICB0aGlzLnJlbG9hZCgpCiAgICB9LAogICAgYXN5bmMgZGVsZXRlUHJvZHVjdChpZCkgewogICAgICB0cnkgewogICAgICAgIGF3YWl0IEhUVFAuZGVsZXRlKGAvc2FucGhhbS8ke2lkLm1hc3B9YCk7CiAgICAgICAgYXdhaXQgdGhpcy5yZWxvYWQoKTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIGNvbnNvbGUubG9nKGUpOwogICAgICAgIGFsZXJ0KCJT4bqjbiBwaOG6qW0gxJHDoyDEkcaw4bujYyBtdWEsIGtow7RuZyB0aOG7gyB4w7NhIik7CiAgICAgIH0KICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["product.vue"],"names":[],"mappings":";;;;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"product.vue","sourceRoot":"src/components/AdminPage","sourcesContent":["<template>\n  <Table :items=\"items\" :fields=\"fields\" @del=\"deleteProduct\" :isPro=\"isPro\" @add=\"handleAdd\" />\n</template>\n<script>\nimport Table from \"../table.vue\";\nimport { HTTP } from \"../../API/http_common\";\nexport default {\n  components: { Table },\n  props: {\n    SPCate: {\n      type: String,\n      default: \"\",\n    },\n  },\n  data() {\n    return {\n      isPro:true,\n      items: [],\n      fields: [\n        {\n          key: \"masp\",\n          label: \"Mã SP\",\n        },\n        {\n          key: \"danhmuc.tendm\",\n          label: \"Danh mục\",\n        },\n        {\n          key: \"tensp\",\n          label: \"Tên SP\",\n        },\n        {\n          key: \"dongia\",\n          label: \"Giá\",\n        },\n        {\n          key: \"soluong\",\n          label: \"Số lượng\",\n          class: \"text-center\",\n        },\n        {\n          key: \"mota_ngan\",\n          label: \"Mô tả\",\n        },\n        {\n          key: \"photo\",\n          label: \"Hình ảnh\",\n        },\n        { key: \"actions\", label: \"Actions\" },\n      ],\n    };\n  },\n  created() {\n    this.reload();\n  },\n  methods: {\n    async reload() {\n      if (!this.SPCate) {\n        await HTTP.get(`/sanpham`).then((res) => {\n          this.items = res.data;\n        });\n      } else {\n        await HTTP.get(`/sanpham/danhmuc/${this.SPCate}`).then((res) => {\n          this.items = res.data;\n        });\n      }\n    },\n    handleAdd(){\n      this.reload()\n    },\n    async deleteProduct(id) {\n      try {\n        await HTTP.delete(`/sanpham/${id.masp}`);\n        await this.reload();\n      } catch (e) {\n        console.log(e);\n        alert(\"Sản phẩm đã được mua, không thể xóa\");\n      }\n    },\n  },\n};\n</script>"]}]}