{"remainingRequest":"/home/hieule/DoAn/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/DoAn/src/components/Register.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/DoAn/src/components/Register.vue","mtime":1626173197983},{"path":"/home/hieule/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/DoAn/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/DoAn/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/DoAn/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzcGlubmVyIGZyb20gIi4vc3Bpbm5lciI7CmltcG9ydCB7IHZhbGlkYXRpb25NaXhpbiB9IGZyb20gInZ1ZWxpZGF0ZSI7CmNvbnN0IHRvdWNoTWFwID0gbmV3IFdlYWtNYXAoKTsKaW1wb3J0IHsgcmVxdWlyZWQsIG1pbkxlbmd0aCwgZW1haWwgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgeyBIVFRQIH0gZnJvbSAiLi4vQVBJL2h0dHBfY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgc3Bpbm5lciB9LAogIG1peGluczogW3ZhbGlkYXRpb25NaXhpbl0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIG5hbWU6IHsgcmVxdWlyZWQsIGVtYWlsIH0sCiAgICBwYXNzOiB7IHJlcXVpcmVkLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCgzKSB9LAogICAgcGhvbmU6IHsgcmVxdWlyZWQgfSwKICAgIGZ1bGw6IHsgcmVxdWlyZWQgfSwKICAgIGFkZHJlc3M6IHsgcmVxdWlyZWQgfSwKICB9LAoKICBtZXRob2RzOiB7CiAgICBkZWxheVRvdWNoKCR2KSB7CiAgICAgICR2LiRyZXNldCgpOwogICAgICBpZiAodG91Y2hNYXAuaGFzKCR2KSkgewogICAgICAgIGNsZWFyVGltZW91dCh0b3VjaE1hcC5nZXQoJHYpKTsKICAgICAgfQogICAgICB0b3VjaE1hcC5zZXQoJHYsIHNldFRpbWVvdXQoJHYuJHRvdWNoLCAxMDAwKSk7CiAgICB9LAogICAgc3VibWl0KCkgewogICAgICB0aGlzLiR2LiR0b3VjaCgpOwogICAgICBIVFRQLnBvc3QoIi91c2VyL3NpZ24tdXAiLCB7CiAgICAgICAgZW1haWw6IHRoaXMubmFtZSwKICAgICAgICBwYXNzd29yZDogdGhpcy5wYXNzLAogICAgICAgIGZ1bGxOYW1lOiB0aGlzLmZ1bGwsCiAgICAgICAgcGhvbmU6IHRoaXMucGhvbmUsCiAgICAgICAgYWRkcmVzczogdGhpcy5hZGRyZXNzLAogICAgICB9KS50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzLmRhdGEuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBhbGVydCgixJDEg25nIGvDvSB0aOG6pXQgYuG6oWkiKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGxvZ2luKCkgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgiLyIpOwogICAgfSwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzaG93UGFzc3dvcmQ6IGZhbHNlLAogICAgICBuYW1lOiAiIiwKICAgICAgcGFzczogIiIsCiAgICAgIGFkZHJlc3M6ICIiLAogICAgICBmdWxsOiAiIiwKICAgICAgcGhvbmU6ICIiLAogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBwYXNzRXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2LnBhc3MuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5wYXNzLm1pbkxlbmd0aCAmJgogICAgICAgIGVycm9ycy5wdXNoKCJwYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycyBsb25nIik7CiAgICAgICF0aGlzLiR2LnBhc3MucmVxdWlyZWQgJiYgZXJyb3JzLnB1c2goInBhc3N3b3JkIGlzIHJlcXVpcmVkLiIpOwogICAgICByZXR1cm4gZXJyb3JzOwogICAgfSwKICAgIGVtYWlsRXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2Lm5hbWUuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5uYW1lLmVtYWlsICYmIGVycm9ycy5wdXNoKCJNdXN0IGJlIHZhbGlkIGUtbWFpbCIpOwogICAgICAhdGhpcy4kdi5uYW1lLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCJFLW1haWwgaXMgcmVxdWlyZWQiKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCiAgICBwaG9uZUVycm9ycygpIHsKICAgICAgY29uc3QgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi5uYW1lLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYubmFtZS5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgiUGhvbmUgaXMgcmVxdWlyZWQiKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCiAgICBmdWxsRXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2Lm5hbWUuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5uYW1lLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCJGdWxsIG5hbWUgaXMgcmVxdWlyZWQiKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCiAgICBhZGRyZXNzRXJyb3JzKCkgewogICAgICBjb25zdCBlcnJvcnMgPSBbXTsKICAgICAgaWYgKCF0aGlzLiR2Lm5hbWUuJGRpcnR5KSByZXR1cm4gZXJyb3JzOwogICAgICAhdGhpcy4kdi5uYW1lLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCJBZGRyZXNzIGlzIHJlcXVpcmVkIik7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Register.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Register.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app>\n    <v-content>\n      <div class=\"top vuetify\" style=\"background-color: green\"></div>\n      <div class=\"main\">\n        <v-card width=\"500\" class=\"mx-auto mt-9\">\n          <v-card-title>Đăng ký tài khoản</v-card-title>\n          <v-card-text>\n            <form>\n              <v-text-field\n                v-model=\"name\"\n                :error-messages=\"emailErrors\"\n                label=\"Email\"\n                required\n                @input=\"delayTouch($v.name)\"\n                @blur=\"$v.name.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"pass\"\n                type=\"password\"\n                :error-messages=\"passErrors\"\n                label=\"Password\"\n                required\n                @input=\"delayTouch($v.pass)\"\n                @blur=\"$v.pass.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"phone\"\n                :error-messages=\"phoneErrors\"\n                label=\"Phone\"\n                required\n                @input=\"delayTouch($v.phone)\"\n                @blur=\"$v.phone.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"full\"\n                :error-messages=\"fullErrors\"\n                label=\"Fullname\"\n                required\n                @input=\"delayTouch($v.full)\"\n                @blur=\"$v.full.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"address\"\n                :error-messages=\"addressErrors\"\n                label=\"Address\"\n                required\n                @input=\"delayTouch($v.address)\"\n                @blur=\"$v.address.$touch()\"\n              ></v-text-field>\n            </form>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn color=\"info\" @click=\"submit\">Đăng ký</v-btn>\n            <v-btn color=\"success\" @click=\"login\">Đăng nhập</v-btn>\n          </v-card-actions>\n        </v-card>\n        <spinner v-if=\"this.$store.state.users.is_login\" />\n      </div>\n      <div class=\"bot vuetify\" style=\"background-color: green\"></div>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport spinner from \"./spinner\";\nimport { validationMixin } from \"vuelidate\";\nconst touchMap = new WeakMap();\nimport { required, minLength, email } from \"vuelidate/lib/validators\";\nimport { HTTP } from \"../API/http_common\";\nexport default {\n  components: { spinner },\n  mixins: [validationMixin],\n  validations: {\n    name: { required, email },\n    pass: { required, minLength: minLength(3) },\n    phone: { required },\n    full: { required },\n    address: { required },\n  },\n\n  methods: {\n    delayTouch($v) {\n      $v.$reset();\n      if (touchMap.has($v)) {\n        clearTimeout(touchMap.get($v));\n      }\n      touchMap.set($v, setTimeout($v.$touch, 1000));\n    },\n    submit() {\n      this.$v.$touch();\n      HTTP.post(\"/user/sign-up\", {\n        email: this.name,\n        password: this.pass,\n        fullName: this.full,\n        phone: this.phone,\n        address: this.address,\n      }).then((res) => {\n        if (res.data.code === 200) {\n          this.$router.push(\"/\");\n        } else {\n          alert(\"Đăng ký thất bại\");\n        }\n      });\n    },\n    login() {\n      this.$router.push(\"/\");\n    },\n  },\n  data() {\n    return {\n      showPassword: false,\n      name: \"\",\n      pass: \"\",\n      address: \"\",\n      full: \"\",\n      phone: \"\",\n    };\n  },\n  computed: {\n    passErrors() {\n      const errors = [];\n      if (!this.$v.pass.$dirty) return errors;\n      !this.$v.pass.minLength &&\n        errors.push(\"password must be at least 3 characters long\");\n      !this.$v.pass.required && errors.push(\"password is required.\");\n      return errors;\n    },\n    emailErrors() {\n      const errors = [];\n      if (!this.$v.name.$dirty) return errors;\n      !this.$v.name.email && errors.push(\"Must be valid e-mail\");\n      !this.$v.name.required && errors.push(\"E-mail is required\");\n      return errors;\n    },\n    phoneErrors() {\n      const errors = [];\n      if (!this.$v.name.$dirty) return errors;\n      !this.$v.name.required && errors.push(\"Phone is required\");\n      return errors;\n    },\n    fullErrors() {\n      const errors = [];\n      if (!this.$v.name.$dirty) return errors;\n      !this.$v.name.required && errors.push(\"Full name is required\");\n      return errors;\n    },\n    addressErrors() {\n      const errors = [];\n      if (!this.$v.name.$dirty) return errors;\n      !this.$v.name.required && errors.push(\"Address is required\");\n      return errors;\n    },\n  },\n};\n</script>\n\n<style lang='scss' src='../style.scss' scoped/>\n"]}]}