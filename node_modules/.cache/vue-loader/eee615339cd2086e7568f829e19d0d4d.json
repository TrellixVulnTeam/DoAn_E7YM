{"remainingRequest":"/home/hieule/lequanghieu1.github.io/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/hieule/lequanghieu1.github.io/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/hieule/lequanghieu1.github.io/src/components/Login.vue","mtime":1626153577974},{"path":"/home/hieule/lequanghieu1.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/lequanghieu1.github.io/node_modules/babel-loader/lib/index.js","mtime":1626151276101},{"path":"/home/hieule/lequanghieu1.github.io/node_modules/cache-loader/dist/cjs.js","mtime":1626151276645},{"path":"/home/hieule/lequanghieu1.github.io/node_modules/vue-loader/lib/index.js","mtime":1626151279033}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBzcGlubmVyIGZyb20gIi4vc3Bpbm5lciI7CmltcG9ydCB7IHZhbGlkYXRpb25NaXhpbiB9IGZyb20gInZ1ZWxpZGF0ZSI7CmNvbnN0IHRvdWNoTWFwID0gbmV3IFdlYWtNYXAoKTsKaW1wb3J0IHsgcmVxdWlyZWQsIG1pbkxlbmd0aCwgZW1haWwgfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwppbXBvcnQgeyBIVFRQIH0gZnJvbSAiLi4vQVBJL2h0dHBfY29tbW9uIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsgc3Bpbm5lciB9LAogIG1peGluczogW3ZhbGlkYXRpb25NaXhpbl0sCiAgdmFsaWRhdGlvbnM6IHsKICAgIG5hbWU6IHsgcmVxdWlyZWQsIGVtYWlsIH0sCiAgICBwYXNzOiB7IHJlcXVpcmVkLCBtaW5MZW5ndGg6IG1pbkxlbmd0aCgzKSB9LAogIH0sCgogIG1ldGhvZHM6IHsKICAgIGRlbGF5VG91Y2goJHYpIHsKICAgICAgJHYuJHJlc2V0KCk7CiAgICAgIGlmICh0b3VjaE1hcC5oYXMoJHYpKSB7CiAgICAgICAgY2xlYXJUaW1lb3V0KHRvdWNoTWFwLmdldCgkdikpOwogICAgICB9CiAgICAgIHRvdWNoTWFwLnNldCgkdiwgc2V0VGltZW91dCgkdi4kdG91Y2gsIDEwMDApKTsKICAgIH0sCiAgICBzdWJtaXQoKSB7CiAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CiAgICAgIEhUVFAucG9zdCgiL3VzZXIvc2lnbi1pbiIsIHsKICAgICAgICBlbWFpbDogdGhpcy5uYW1lLAogICAgICAgIHBhc3N3b3JkOiB0aGlzLnBhc3MsCiAgICAgIH0pLnRoZW4oKHJlcykgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgaWYgKHJlcy5kYXRhLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi91c2VyIik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidG9rZW4iLCByZXMuZGF0YS5kYXRhLnRva2VuKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgYWxlcnQoIlNhaSB0w6puIMSRxINuZyBuaOG6rXAgaG/hurdjIG3huq10IGto4bqpdSIpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNob3dQYXNzd29yZDogZmFsc2UsCiAgICAgIG5hbWU6ICIiLAogICAgICBwYXNzOiAiIiwKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgcGFzc0Vycm9ycygpIHsKICAgICAgY29uc3QgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi5wYXNzLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYucGFzcy5taW5MZW5ndGggJiYKICAgICAgICBlcnJvcnMucHVzaCgicGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMgbG9uZyIpOwogICAgICAhdGhpcy4kdi5wYXNzLnJlcXVpcmVkICYmIGVycm9ycy5wdXNoKCJwYXNzd29yZCBpcyByZXF1aXJlZC4iKTsKICAgICAgcmV0dXJuIGVycm9yczsKICAgIH0sCiAgICBlbWFpbEVycm9ycygpIHsKICAgICAgY29uc3QgZXJyb3JzID0gW107CiAgICAgIGlmICghdGhpcy4kdi5uYW1lLiRkaXJ0eSkgcmV0dXJuIGVycm9yczsKICAgICAgIXRoaXMuJHYubmFtZS5lbWFpbCAmJiBlcnJvcnMucHVzaCgiTXVzdCBiZSB2YWxpZCBlLW1haWwiKTsKICAgICAgIXRoaXMuJHYubmFtZS5yZXF1aXJlZCAmJiBlcnJvcnMucHVzaCgiRS1tYWlsIGlzIHJlcXVpcmVkIik7CiAgICAgIHJldHVybiBlcnJvcnM7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <v-app>\n    <v-content>\n      <div class=\"top vuetify\"></div>\n      <div class=\"main\">\n        <v-card width=\"500\" class=\"mx-auto mt-9\">\n          <v-card-title>Login</v-card-title>\n          <v-card-text>\n            <form>\n              <v-text-field\n                v-model=\"name\"\n                :error-messages=\"emailErrors\"\n                label=\"Email\"\n                required\n                @input=\"delayTouch($v.name)\"\n                @blur=\"$v.name.$touch()\"\n              ></v-text-field>\n              <v-text-field\n                v-model=\"pass\"\n                type=\"password\"\n                :error-messages=\"passErrors\"\n                label=\"Password\"\n                required\n                @input=\"delayTouch($v.pass)\"\n                @blur=\"$v.pass.$touch()\"\n              ></v-text-field>\n            </form>\n          </v-card-text>\n          <v-card-actions>\n            <v-btn color=\"info\" @click=\"submit\">Login</v-btn>\n          </v-card-actions>\n        </v-card>\n        <spinner v-if=\"this.$store.state.users.is_login\" />\n      </div>\n      <div class=\"bot vuetify\"></div>\n    </v-content>\n  </v-app>\n</template>\n\n<script>\nimport spinner from \"./spinner\";\nimport { validationMixin } from \"vuelidate\";\nconst touchMap = new WeakMap();\nimport { required, minLength, email } from \"vuelidate/lib/validators\";\nimport { HTTP } from \"../API/http_common\";\nexport default {\n  components: { spinner },\n  mixins: [validationMixin],\n  validations: {\n    name: { required, email },\n    pass: { required, minLength: minLength(3) },\n  },\n\n  methods: {\n    delayTouch($v) {\n      $v.$reset();\n      if (touchMap.has($v)) {\n        clearTimeout(touchMap.get($v));\n      }\n      touchMap.set($v, setTimeout($v.$touch, 1000));\n    },\n    submit() {\n      this.$v.$touch();\n      HTTP.post(\"/user/sign-in\", {\n        email: this.name,\n        password: this.pass,\n      }).then((res) => {\n        console.log(res);\n        if (res.data.code === 200) {\n          this.$router.push(\"/user\");\n          localStorage.setItem(\"token\", res.data.data.token);\n        } else {\n          alert(\"Sai tên đăng nhập hoặc mật khẩu\");\n        }\n      });\n    },\n  },\n  data() {\n    return {\n      showPassword: false,\n      name: \"\",\n      pass: \"\",\n    };\n  },\n  computed: {\n    passErrors() {\n      const errors = [];\n      if (!this.$v.pass.$dirty) return errors;\n      !this.$v.pass.minLength &&\n        errors.push(\"password must be at least 3 characters long\");\n      !this.$v.pass.required && errors.push(\"password is required.\");\n      return errors;\n    },\n    emailErrors() {\n      const errors = [];\n      if (!this.$v.name.$dirty) return errors;\n      !this.$v.name.email && errors.push(\"Must be valid e-mail\");\n      !this.$v.name.required && errors.push(\"E-mail is required\");\n      return errors;\n    },\n  },\n};\n</script>\n\n<style lang='scss' src='../style.scss' scoped/>\n"]}]}